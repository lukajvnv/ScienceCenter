<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" id="Definitions_13mx7yc" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.4.1">
  <bpmn:process id="new_article" name="New article" isExecutable="true" camunda:candidateStarterGroups="author">
    <bpmn:extensionElements>
      <camunda:executionListener class="com.project.service.camunda.task.NewArticleInitialization" event="start" />
    </bpmn:extensionElements>
    <bpmn:startEvent id="StartEvent_1" camunda:initiator="user">
      <bpmn:outgoing>SequenceFlow_1v19ux4</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1v19ux4" sourceRef="StartEvent_1" targetRef="select_magazine" />
    <bpmn:userTask id="select_magazine" name="Select magazine" camunda:assignee="${user}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="select_magazine_id" label="Magazine id:" type="long" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1v19ux4</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0tresf6</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="magazine_payment_type" name="Retrieve magazine payment type" camunda:class="com.project.service.camunda.service.RetrieveMagazinePaymentType">
      <bpmn:incoming>SequenceFlow_0tresf6</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0oe1juk</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="should_user_pay" name="Should user pay?" camunda:class="com.project.service.camunda.service.ShouldUserPay">
      <bpmn:incoming>SequenceFlow_1kuyow2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0pbmvzx</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="process_article_data" name="Process_article_data" camunda:class="com.project.service.camunda.service.ProcessArticleData">
      <bpmn:incoming>SequenceFlow_1tvj0i8</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0o5cz67</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0bs4av2" name="Consider payment?">
      <bpmn:incoming>SequenceFlow_0oe1juk</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1kuyow2</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1ijcn9n</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1fztipp">
      <bpmn:incoming>SequenceFlow_1ijcn9n</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_089qi7s</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0cu8bsy</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="EndEvent_1h0lnvx">
      <bpmn:incoming>SequenceFlow_1fwe2jl</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1s7w1jm" sourceRef="analize_article" targetRef="process_editor_analize" />
    <bpmn:userTask id="analize_article" name="Analize article" camunda:assignee="${articleProcessDto.getWhoIsChiefEditor()}" camunda:candidateGroups="editor">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="is_topic_ok" label="Topic ok:" type="boolean" />
        </camunda:formData>
        <camunda:taskListener class="com.project.service.camunda.task.NewArticleAnalizeArticleDataInitializationi" event="create" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0lpe940</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1s7w1jm</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_1kuyow2" name="yes" sourceRef="ExclusiveGateway_0bs4av2" targetRef="should_user_pay">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${payment_type == "OPEN_ACCESS"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0ezed9o" name="pay?">
      <bpmn:incoming>SequenceFlow_0pbmvzx</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ddm04v</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0dlzo4i</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1xwrmd3">
      <bpmn:incoming>SequenceFlow_1ddm04v</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0cujuul</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_089qi7s</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1ijcn9n" name="no" sourceRef="ExclusiveGateway_0bs4av2" targetRef="ExclusiveGateway_1fztipp">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${payment_type == "PAID_ACCESS"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0pbmvzx" sourceRef="should_user_pay" targetRef="ExclusiveGateway_0ezed9o" />
    <bpmn:sequenceFlow id="SequenceFlow_1ddm04v" name="no" sourceRef="ExclusiveGateway_0ezed9o" targetRef="ExclusiveGateway_1xwrmd3">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!should_pay}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_089qi7s" sourceRef="ExclusiveGateway_1xwrmd3" targetRef="ExclusiveGateway_1fztipp" />
    <bpmn:sequenceFlow id="SequenceFlow_0oe1juk" sourceRef="magazine_payment_type" targetRef="ExclusiveGateway_0bs4av2" />
    <bpmn:sequenceFlow id="SequenceFlow_0cu8bsy" sourceRef="ExclusiveGateway_1fztipp" targetRef="enter_article_data" />
    <bpmn:sequenceFlow id="SequenceFlow_0lpe940" sourceRef="send_mail_to_author_editor" targetRef="analize_article" />
    <bpmn:sendTask id="send_mail_to_author_editor" name="Send mail to the author and editor" camunda:expression="${mailService.send(mail)}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="Input_275bp9u" />
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0ru6yw0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0lpe940</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics camunda:collection="${mailNotificationsForNewArticleSubmitting}" camunda:elementVariable="mail" />
    </bpmn:sendTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_028fj5y" name="Topic ok?">
      <bpmn:incoming>SequenceFlow_1gps3t1</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1rtrmep</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_11narag</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1rtrmep" name="yes" sourceRef="ExclusiveGateway_028fj5y" targetRef="Analize_article_text">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${is_topic_ok == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="EndEvent_0q66zje">
      <bpmn:incoming>SequenceFlow_09bbn2p</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1gps3t1" sourceRef="process_editor_analize" targetRef="ExclusiveGateway_028fj5y" />
    <bpmn:serviceTask id="process_editor_analize" name="Process editor&#39;s analize" camunda:expression="${user}">
      <bpmn:incoming>SequenceFlow_1s7w1jm</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1gps3t1</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="find_chief_editor" name="Find chief editor" camunda:class="com.project.service.camunda.service.FindChiefEditor">
      <bpmn:incoming>SequenceFlow_0o5cz67</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_16ffw7c</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1qrwnma" sourceRef="Analize_article_text" targetRef="process_article_text" />
    <bpmn:userTask id="Analize_article_text" name="Analize article&#39;s text" camunda:assignee="${articleProcessDto.getWhoIsChiefEditor()}" camunda:candidateGroups="editor">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="is_text_ok" label="Text ok?" type="boolean" defaultValue="true" />
          <camunda:formField id="analize_article_comment" label="Comment:" type="string">
            <camunda:properties>
              <camunda:property id="textarea" value="a" />
            </camunda:properties>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1rtrmep</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1qrwnma</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1ot4ue9" name="Text ok?">
      <bpmn:incoming>SequenceFlow_0f9jpmp</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0863viv</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_11olh5o</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0f9jpmp" sourceRef="process_article_text" targetRef="ExclusiveGateway_1ot4ue9" />
    <bpmn:serviceTask id="process_article_text" name="Process article&#39;s text" camunda:class="com.project.service.camunda.service.ProcessAnalizeArticleText">
      <bpmn:incoming>SequenceFlow_1qrwnma</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0f9jpmp</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0863viv" name="yes" sourceRef="ExclusiveGateway_1ot4ue9" targetRef="retrive_editor_area">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${is_text_ok == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1bqi0sv" sourceRef="Task_0czyytw" targetRef="update_article_text" />
    <bpmn:sendTask id="Task_0czyytw" name="Send conditionaly inadequate text refusing mail to the author" camunda:expression="${mailService.send(textIncomplianceMail)}">
      <bpmn:incoming>SequenceFlow_1enesxf</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1bqi0sv</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:userTask id="update_article_text" name="Update article text" camunda:assignee="${user}">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.project.service.camunda.task.NewArticleUpdateFormDataInitialization" event="create" />
        <camunda:formData>
          <camunda:formField id="updated_file" label="Updated file:" type="file">
            <camunda:properties>
              <camunda:property id="file" value="a" />
            </camunda:properties>
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1bqi0sv</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0n7nf39</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_08abm9c">
      <bpmn:incoming>SequenceFlow_0ima3nv</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_16ffw7c</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0046knf</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0n7nf39" sourceRef="update_article_text" targetRef="process_update_article" />
    <bpmn:boundaryEvent id="IntermediateThrowEvent_041zcyr" name="Not updating on time" attachedToRef="update_article_text">
      <bpmn:outgoing>SequenceFlow_0fxfzh6</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">P1D</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1vwyad0" sourceRef="Task_14tsaxy" targetRef="Task_06ftulh" />
    <bpmn:sendTask id="Task_14tsaxy" name="Send rejection mail to the author due to technical reasons" camunda:expression="${mailService.send(technicalReasonMail)}">
      <bpmn:incoming>SequenceFlow_10winsy</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1vwyad0</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:serviceTask id="retrive_editor_area" name="Retrieve editor who is in charge for article&#39;s science area" camunda:class="com.project.service.camunda.service.FindScienceAreaEditor">
      <bpmn:incoming>SequenceFlow_0863viv</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_15faqud</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="add_reviewer" name="Add reviewer for article" camunda:assignee="${articleProcessDto.getWhoIsScienceEditor()}">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.project.service.camunda.task.AddReviewerForArticleDataInitialization" event="create" />
        <camunda:formData>
          <camunda:formField id="reviewer_begin" label="Reviewers:" type="enum">
            <camunda:properties>
              <camunda:property id="multiple" value="a" />
            </camunda:properties>
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_13a71ug</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1bfe9h3</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_0mnfnla" sourceRef="add_reviewer_to_list" targetRef="ExclusiveGateway_09cg3pb" />
    <bpmn:sequenceFlow id="SequenceFlow_08rsluo" sourceRef="init_reviewer_id" targetRef="ExclusiveGateway_0s57mz9" />
    <bpmn:serviceTask id="init_reviewer_id" name="Retrieve_reviewers" camunda:class="com.project.service.camunda.service.RetrieveReviewers">
      <bpmn:incoming>SequenceFlow_15faqud</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_08rsluo</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1bfe9h3" sourceRef="add_reviewer" targetRef="add_reviewer_to_list" />
    <bpmn:subProcess id="review_article_mf" name="Review article microflow">
      <bpmn:extensionElements>
        <camunda:executionListener class="com.project.service.camunda.task.ReviewArticleSubProcessInitialization" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1pcsav2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1keagd5</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics camunda:collection="${articleProcessDto.getReviewers()}" camunda:elementVariable="rev" />
      <bpmn:startEvent id="StartEvent_02pqxlm">
        <bpmn:outgoing>SequenceFlow_08jr8kw</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:userTask id="review_article" name="Review article" camunda:assignee="${subProcessData.getTaskInitiator()}" camunda:candidateGroups="reviewer">
        <bpmn:extensionElements>
          <camunda:taskListener class="com.project.service.camunda.task.ReviewArticleDataInitialization" event="create" />
          <camunda:formData>
            <camunda:formField id="rev_comment" label="Comment:" type="string">
              <camunda:properties>
                <camunda:property id="textarea" value="a" />
              </camunda:properties>
            </camunda:formField>
            <camunda:formField id="rev_comment_editor" label="Comment[Editor]:" type="string">
              <camunda:properties>
                <camunda:property id="textarea" value="a" />
              </camunda:properties>
            </camunda:formField>
            <camunda:formField id="rev_decision" label="Decision" type="enum">
              <camunda:validation>
                <camunda:constraint name="required" />
              </camunda:validation>
              <camunda:value id="ACCEPTED" name="ACCEPTED" />
              <camunda:value id="REJECTED" name="REJECTED" />
              <camunda:value id="DO_MINOR_CHANGES" name="DO_MINOR_CHANGES" />
              <camunda:value id="DO_MAJOR_CHANGES" name="DO_MAJOR_CHANGES" />
            </camunda:formField>
          </camunda:formData>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_0sq98ps</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_1sh7o35</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:boundaryEvent id="BoundaryEvent_0a5guwo" name="Not reviewing_on_time" attachedToRef="review_article">
        <bpmn:outgoing>SequenceFlow_0x2rup8</bpmn:outgoing>
        <bpmn:timerEventDefinition id="TimerEventDefinition_1m2k4tj">
          <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">P${reviewing_deadline_day}DT${reviewing_deadline_hour}H${reviewing_deadline_minute}M</bpmn:timeDuration>
        </bpmn:timerEventDefinition>
      </bpmn:boundaryEvent>
      <bpmn:serviceTask id="process_reviewing" name="Process reviewing" camunda:class="com.project.service.camunda.service.ProcessReviewing">
        <bpmn:incoming>SequenceFlow_1sh7o35</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_03f72ss</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="SequenceFlow_08jr8kw" sourceRef="StartEvent_02pqxlm" targetRef="ExclusiveGateway_1731ths" />
      <bpmn:sequenceFlow id="SequenceFlow_1sh7o35" sourceRef="review_article" targetRef="process_reviewing" />
      <bpmn:sequenceFlow id="SequenceFlow_03f72ss" sourceRef="process_reviewing" targetRef="EndEvent_0ek8scr" />
      <bpmn:userTask id="add_rev_when_error" name="Add reviewer for article when error" camunda:assignee="${articleProcessDto.getWhoIsScienceEditor()}">
        <bpmn:extensionElements>
          <camunda:taskListener class="com.project.service.camunda.task.AddReviewerForArticleWhenErrorDataInitialization" event="create" />
          <camunda:formData>
            <camunda:formField id="reviewer_error" label="Reviewer:" type="enum">
              <camunda:validation>
                <camunda:constraint name="required" />
              </camunda:validation>
            </camunda:formField>
          </camunda:formData>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_1n7wf0d</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_1vzxv11</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:exclusiveGateway id="ExclusiveGateway_1731ths">
        <bpmn:incoming>SequenceFlow_08jr8kw</bpmn:incoming>
        <bpmn:incoming>SequenceFlow_1sor99u</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0sq98ps</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="SequenceFlow_0sq98ps" sourceRef="ExclusiveGateway_1731ths" targetRef="review_article" />
      <bpmn:endEvent id="EndEvent_0ek8scr">
        <bpmn:incoming>SequenceFlow_03f72ss</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:serviceTask id="process_aditional_reviewing" name="Process aditional reviewing-update-rev-list" camunda:class="com.project.service.camunda.service.ProcessAddReviewerWhenError">
        <bpmn:incoming>SequenceFlow_1vzxv11</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_1sor99u</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="SequenceFlow_1sor99u" sourceRef="process_aditional_reviewing" targetRef="ExclusiveGateway_1731ths" />
      <bpmn:sequenceFlow id="SequenceFlow_1vzxv11" sourceRef="add_rev_when_error" targetRef="process_aditional_reviewing" />
      <bpmn:sequenceFlow id="SequenceFlow_0x2rup8" sourceRef="BoundaryEvent_0a5guwo" targetRef="Task_051emqd" />
      <bpmn:sequenceFlow id="SequenceFlow_1n7wf0d" sourceRef="Task_051emqd" targetRef="add_rev_when_error" />
      <bpmn:serviceTask id="Task_051emqd" name="Remove irresponsible reviewer" camunda:class="com.project.service.camunda.service.RemoveIresposibleReviewer">
        <bpmn:incoming>SequenceFlow_0x2rup8</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_1n7wf0d</bpmn:outgoing>
      </bpmn:serviceTask>
    </bpmn:subProcess>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1bi5mtk" name="result?">
      <bpmn:incoming>SequenceFlow_163f9xj</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0kpq821</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_01ox3er</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1bf54hx</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="editor_review" name="Reviewing by editor" camunda:assignee="${articleProcessDto.getWhoIsScienceEditor()}">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.project.service.camunda.task.ReviewingEditorDataInitialization" event="create" />
        <camunda:formData>
          <camunda:formField id="article_decision" label="Decision:" type="enum">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
            <camunda:value id="ACCEPTED" name="ACCEPTED" />
            <camunda:value id="REJECTED" name="REJECTED" />
            <camunda:value id="DO_MINOR_CHANGES" name="DO_MINOR_CHANGES" />
            <camunda:value id="DO_MAJOR_CHANGES" name="DO_MAJOR_CHANGES" />
            <camunda:value id="ADD_ADDITIONAL_REVIEWER" name="ADD_ADDITIONAL_REVIEWER" />
          </camunda:formField>
          <camunda:formField id="article_editor_comment" label="Comment:" type="string">
            <camunda:properties>
              <camunda:property id="textarea" value="a" />
            </camunda:properties>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0qhz88s</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0i8083t</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="proccess_editor_reviewing" name="Process reviewing by editor" camunda:class="com.project.service.camunda.service.ProcessReviewingEditor">
      <bpmn:incoming>SequenceFlow_0i8083t</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_163f9xj</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="EndEvent_1553asj">
      <bpmn:incoming>SequenceFlow_0zr3hly</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="publish_article_to_magazine" name="Publish article to the magazine" camunda:class="com.project.service.camunda.service.GenerateDoi">
      <bpmn:incoming>SequenceFlow_0xaay9u</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0pnfpbc</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sendTask id="Task_1tt0eou" name="Send acceptance notification" camunda:expression="${mailService.send(endingMail)}">
      <bpmn:incoming>SequenceFlow_0yvg2gp</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_02y6vn3</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:sequenceFlow id="SequenceFlow_0i8083t" sourceRef="editor_review" targetRef="proccess_editor_reviewing" />
    <bpmn:serviceTask id="ServiceTask_15xe90a" name="Process pdf minor/major changes to the db" camunda:class="com.project.service.camunda.service.UpdateFileChanges">
      <bpmn:incoming>SequenceFlow_17w5lyq</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0lmofnu</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="upload_pdf_minor_major_changes" name="Upload pdf minor/major changes" camunda:assignee="${user}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="change_file" label="Your file:" type="file">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="change_comment" label="Comment:" type="string">
            <camunda:properties>
              <camunda:property id="textarea" value="a" />
            </camunda:properties>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener class="com.project.service.camunda.task.NewArticleUpdateFormChangesDataInitialization" event="create" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1jvozf8</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_17w5lyq</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:endEvent id="EndEvent_1gx5f7u">
      <bpmn:incoming>SequenceFlow_0ky0nf0</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:boundaryEvent id="BoundaryEvent_1lgoyhu" name="not on time" attachedToRef="upload_pdf_minor_major_changes">
      <bpmn:outgoing>SequenceFlow_0xo614d</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_0pc0kcn">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">P1D</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0xo614d" sourceRef="BoundaryEvent_1lgoyhu" targetRef="ServiceTask_1eedhp0" />
    <bpmn:exclusiveGateway id="ExclusiveGateway_08yqp1u">
      <bpmn:incoming>SequenceFlow_1s3qtk1</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0xj6y5c</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1nbbmej</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1nbbmej" sourceRef="ExclusiveGateway_08yqp1u" targetRef="define_time_to_respond" />
    <bpmn:exclusiveGateway id="ExclusiveGateway_0x2piu2">
      <bpmn:incoming>SequenceFlow_1keagd5</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0adlhn2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0f3e1kj</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1keagd5" sourceRef="review_article_mf" targetRef="ExclusiveGateway_0x2piu2" />
    <bpmn:subProcess id="Task_18ru3xa" name="Payment">
      <bpmn:incoming>SequenceFlow_0dlzo4i</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0cujuul</bpmn:outgoing>
      <bpmn:startEvent id="StartEvent_0tp2fgi">
        <bpmn:outgoing>SequenceFlow_0uf38e4</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="SequenceFlow_0uf38e4" sourceRef="StartEvent_0tp2fgi" targetRef="Task_10pxn5a" />
      <bpmn:endEvent id="EndEvent_106gk58">
        <bpmn:incoming>SequenceFlow_0a8mrg2</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:serviceTask id="Task_10pxn5a" name="Init payment" camunda:class="com.project.service.camunda.service.PaymentHandler">
        <bpmn:incoming>SequenceFlow_0uf38e4</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_02ncok0</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="SequenceFlow_02ncok0" sourceRef="Task_10pxn5a" targetRef="payment_kp_call" />
      <bpmn:userTask id="payment_kp_call" name="payment KP call" camunda:assignee="${user}">
        <bpmn:extensionElements>
          <camunda:taskListener class="com.project.service.camunda.task.KpPaymentInit" event="create" />
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_02ncok0</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_1mnzu18</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:sequenceFlow id="SequenceFlow_1mnzu18" sourceRef="payment_kp_call" targetRef="Task_0tb8wsg" />
      <bpmn:sequenceFlow id="SequenceFlow_0a8mrg2" sourceRef="Task_0tb8wsg" targetRef="EndEvent_106gk58" />
      <bpmn:serviceTask id="Task_0tb8wsg" name="Process Payment" camunda:class="com.project.service.camunda.service.PaymentProcessing">
        <bpmn:incoming>SequenceFlow_1mnzu18</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0a8mrg2</bpmn:outgoing>
      </bpmn:serviceTask>
    </bpmn:subProcess>
    <bpmn:sequenceFlow id="SequenceFlow_0tresf6" sourceRef="select_magazine" targetRef="magazine_payment_type" />
    <bpmn:sequenceFlow id="SequenceFlow_0ru6yw0" sourceRef="message_to_send" targetRef="send_mail_to_author_editor" />
    <bpmn:serviceTask id="message_to_send" name="Prepare messages for sending to the author and editor" camunda:class="com.project.service.camunda.service.PrepareMailNotificationForNewArticleSubmiting">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:outputParameter name="messages_receivers">
            <camunda:list />
          </camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0046knf</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ru6yw0</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sendTask id="prepare_refusing_explanation" name="Send rejecting mail due to the topic&#39;s incompliance" camunda:expression="${mailService.send(topicIncomplianceMail)}">
      <bpmn:incoming>SequenceFlow_0qzzgb0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_09bbn2p</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:serviceTask id="process_update_article" name="Process update article text" camunda:class="com.project.service.camunda.service.UpdateFile">
      <bpmn:incoming>SequenceFlow_0n7nf39</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ima3nv</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1fwe2jl" sourceRef="Task_06ftulh" targetRef="EndEvent_1h0lnvx" />
    <bpmn:serviceTask id="Task_06ftulh" name="Save the result of rejeciton" camunda:class="com.project.service.camunda.service.SavingRejectionTechicalReason">
      <bpmn:incoming>SequenceFlow_1vwyad0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1fwe2jl</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="ServiceTask_04alscp" name="Save the result of rejeciton" camunda:class="com.project.service.camunda.service.SavingArticleResultGeneric">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="article_result">IRRELEVANT_BY_TOPIC</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_11narag</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1nmj8dc</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="ServiceTask_1eedhp0" name="Save the result" camunda:class="com.project.service.camunda.service.SavingArticleResultGeneric">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="article_result">REJECTED_TECHNICAL_REASON</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0xo614d</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ky0nf0</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0dlzo4i" name="yes" sourceRef="ExclusiveGateway_0ezed9o" targetRef="Task_18ru3xa">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${should_pay}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0cujuul" sourceRef="Task_18ru3xa" targetRef="ExclusiveGateway_1xwrmd3" />
    <bpmn:sequenceFlow id="SequenceFlow_1f42mox" sourceRef="IntermediateThrowEvent_1gmftfv" targetRef="Task_0ijyvsd" />
    <bpmn:endEvent id="EndEvent_0kv7s6h">
      <bpmn:incoming>SequenceFlow_0z1iu5u</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0z1iu5u" sourceRef="Task_0ijyvsd" targetRef="EndEvent_0kv7s6h" />
    <bpmn:boundaryEvent id="IntermediateThrowEvent_1gmftfv" name="Payment failed" attachedToRef="Task_18ru3xa">
      <bpmn:outgoing>SequenceFlow_1f42mox</bpmn:outgoing>
      <bpmn:errorEventDefinition errorRef="Error_06g5eqn" camunda:errorCodeVariable="PAYMENT_ERROR" camunda:errorMessageVariable="PAYMENT_ERROR" />
    </bpmn:boundaryEvent>
    <bpmn:serviceTask id="Task_0ijyvsd" name="Process unsuccessful payment" camunda:class="com.project.service.camunda.service.PaymentErrorHandler">
      <bpmn:incoming>SequenceFlow_1f42mox</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0z1iu5u</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0s57mz9" name="reviewers list?">
      <bpmn:incoming>SequenceFlow_08rsluo</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_13a71ug</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_17svrf8</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_13a71ug" name="Yes" sourceRef="ExclusiveGateway_0s57mz9" targetRef="add_reviewer">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${reviewersByScArea.size() &gt; 0}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1pcsav2" sourceRef="define_time_to_respond" targetRef="review_article_mf" />
    <bpmn:userTask id="define_time_to_respond" name="Define time to respond" camunda:assignee="${articleProcessDto.getWhoIsScienceEditor()}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="reviewing_deadline_day" label="Days:" type="long">
            <camunda:validation>
              <camunda:constraint name="min" config="0" />
              <camunda:constraint name="max" config="5" />
              <camunda:constraint name="validator" config="com.project.util.camunda.validation.TimeToRespondValidator" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="reviewing_deadline_hour" label="Hours:" type="long">
            <camunda:validation>
              <camunda:constraint name="min" config="0" />
              <camunda:constraint name="max" config="23" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="reviewing_deadline_minute" label="Minute:" type="long">
            <camunda:validation>
              <camunda:constraint name="min" config="0" />
              <camunda:constraint name="max" config="59" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1nbbmej</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1pcsav2</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_09cg3pb">
      <bpmn:incoming>SequenceFlow_00wv2zf</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0mnfnla</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1s3qtk1</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1s3qtk1" sourceRef="ExclusiveGateway_09cg3pb" targetRef="ExclusiveGateway_08yqp1u" />
    <bpmn:sequenceFlow id="SequenceFlow_17svrf8" name="No" sourceRef="ExclusiveGateway_0s57mz9" targetRef="ScriptTask_19savi5">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${reviewersByScArea.size() &lt;= 0}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_00wv2zf" sourceRef="ScriptTask_19savi5" targetRef="ExclusiveGateway_09cg3pb" />
    <bpmn:userTask id="enter_article_data" name="Enter article&#39;s data" camunda:assignee="${user}">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.project.service.camunda.task.NewArticleFormDataInitialization" event="create" />
        <camunda:formData>
          <camunda:formField id="article_title" label="Title:" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="article_abstract" label="Abstract:" type="string">
            <camunda:properties>
              <camunda:property id="textarea" value="a" />
            </camunda:properties>
          </camunda:formField>
          <camunda:formField id="article_price" label="Price:" type="long">
            <camunda:validation>
              <camunda:constraint name="required" />
              <camunda:constraint name="min" config="1" />
              <camunda:constraint name="max" config="1000" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="article_science_area" label="Science area:" type="enum">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="article_file" label="File:" type="file">
            <camunda:properties>
              <camunda:property id="file" value="a" />
            </camunda:properties>
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="article_key_terms" label="Terms:" type="multiEnum" />
          <camunda:formField id="article_co_authors" label="CoAuthors:" type="multiEnumCoAuthor" />
          <camunda:formField id="article_co_authors_out" label="Custom:" type="multiEnumCoAuthorOut">
            <camunda:properties>
              <camunda:property id="first_name" value="First name:" />
            </camunda:properties>
          </camunda:formField>
          <camunda:formField id="article_key_terms_out" type="multiEnumTermOut" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0cu8bsy</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1tvj0i8</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_1tvj0i8" sourceRef="enter_article_data" targetRef="process_article_data" />
    <bpmn:sequenceFlow id="SequenceFlow_0o5cz67" sourceRef="process_article_data" targetRef="find_chief_editor" />
    <bpmn:sequenceFlow id="SequenceFlow_0ima3nv" sourceRef="process_update_article" targetRef="ExclusiveGateway_08abm9c" />
    <bpmn:sequenceFlow id="SequenceFlow_16ffw7c" sourceRef="find_chief_editor" targetRef="ExclusiveGateway_08abm9c" />
    <bpmn:sequenceFlow id="SequenceFlow_0046knf" sourceRef="ExclusiveGateway_08abm9c" targetRef="message_to_send" />
    <bpmn:sequenceFlow id="SequenceFlow_11narag" name="No" sourceRef="ExclusiveGateway_028fj5y" targetRef="ServiceTask_04alscp">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${is_topic_ok == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1nmj8dc" sourceRef="ServiceTask_04alscp" targetRef="reject_mail_topic_incompliance" />
    <bpmn:sequenceFlow id="SequenceFlow_0qzzgb0" sourceRef="reject_mail_topic_incompliance" targetRef="prepare_refusing_explanation" />
    <bpmn:sequenceFlow id="SequenceFlow_09bbn2p" sourceRef="prepare_refusing_explanation" targetRef="EndEvent_0q66zje" />
    <bpmn:serviceTask id="reject_mail_topic_incompliance" name="Prepere rejecting mail" camunda:class="com.project.service.camunda.service.PrepareGenericMail">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="type_of_message">TopicIncompliance</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1nmj8dc</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0qzzgb0</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_11olh5o" name="No" sourceRef="ExclusiveGateway_1ot4ue9" targetRef="reject_mail_text_incompliance">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${is_text_ok == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1enesxf" sourceRef="reject_mail_text_incompliance" targetRef="Task_0czyytw" />
    <bpmn:serviceTask id="reject_mail_text_incompliance" name="Prepare rejecting mail text incompliance" camunda:class="com.project.service.camunda.service.PrepareGenericMail">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="type_of_message">TextIncompliance</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_11olh5o</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1enesxf</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0fxfzh6" sourceRef="IntermediateThrowEvent_041zcyr" targetRef="prepare_technical_reason" />
    <bpmn:serviceTask id="prepare_technical_reason" name="Prepare mail techical reasons" camunda:class="com.project.service.camunda.service.PrepareGenericMail">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="type_of_message">TechnicalReason</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0fxfzh6</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_10winsy</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_10winsy" sourceRef="prepare_technical_reason" targetRef="Task_14tsaxy" />
    <bpmn:serviceTask id="prepare_mail_accept" name="Prepare mail accept" camunda:class="com.project.service.camunda.service.PrepareGenericMail">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="type_of_message">${article_decision}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0kpq821</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0yvg2gp</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0kpq821" name="accept or reject" sourceRef="ExclusiveGateway_1bi5mtk" targetRef="prepare_mail_accept">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${article_decision == "ACCEPTED" ||  article_decision == "REJECTED"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0yvg2gp" sourceRef="prepare_mail_accept" targetRef="Task_1tt0eou" />
    <bpmn:sequenceFlow id="SequenceFlow_15faqud" sourceRef="retrive_editor_area" targetRef="init_reviewer_id" />
    <bpmn:serviceTask id="ScriptTask_19savi5" name="Add chief editor to the reviewers list" camunda:class="com.project.service.camunda.service.AddChiefEditorToReviewersList">
      <bpmn:incoming>SequenceFlow_17svrf8</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_00wv2zf</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="ServiceTask_08alzd2" name="Save the result" camunda:class="com.project.service.camunda.service.SavingArticleResultGeneric">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="article_result">${article_decision}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_02y6vn3</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1tos7hi</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_02y6vn3" sourceRef="Task_1tt0eou" targetRef="ServiceTask_08alzd2" />
    <bpmn:serviceTask id="ServiceTask_1d3qlff" name="Save the result" camunda:class="com.project.service.camunda.service.SavingArticleResultGeneric">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="article_result">DO_MINOR_CHANGES</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_01ox3er</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1jvozf8</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_01ox3er" name="minor/major changes" sourceRef="ExclusiveGateway_1bi5mtk" targetRef="ServiceTask_1d3qlff">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${article_decision == "DO_MINOR_CHANGES" || article_decision == "DO_MAJOR_CHANGES"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1jvozf8" sourceRef="ServiceTask_1d3qlff" targetRef="upload_pdf_minor_major_changes" />
    <bpmn:sequenceFlow id="SequenceFlow_17w5lyq" sourceRef="upload_pdf_minor_major_changes" targetRef="ServiceTask_15xe90a" />
    <bpmn:serviceTask id="add_reviewer_to_list" name="Process Add reviewer to list" camunda:class="com.project.service.camunda.service.ProcessAddingReviewer">
      <bpmn:incoming>SequenceFlow_1bfe9h3</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0mnfnla</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1tanl9s">
      <bpmn:incoming>SequenceFlow_0f3e1kj</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_06pog5l</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0qhz88s</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0f3e1kj" sourceRef="ExclusiveGateway_0x2piu2" targetRef="ExclusiveGateway_1tanl9s" />
    <bpmn:sequenceFlow id="SequenceFlow_0qhz88s" sourceRef="ExclusiveGateway_1tanl9s" targetRef="editor_review" />
    <bpmn:userTask id="add_additional_reviewing" name="Adding Aditional reviewing" camunda:assignee="${articleProcessDto.getWhoIsScienceEditor()}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="additional_reviewer" label="Reviewer:" type="enum">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener class="com.project.service.camunda.task.AddReviewerForArticleAdditionalDataInitialization" event="create" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1bf54hx</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_072f94w</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Task_0k4bg49" name="Process adding Aditional reviewing" camunda:class="com.project.service.camunda.service.ProcessAddReviewerAdditional">
      <bpmn:incoming>SequenceFlow_072f94w</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0covefw</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_163f9xj" sourceRef="proccess_editor_reviewing" targetRef="ExclusiveGateway_1bi5mtk" />
    <bpmn:sequenceFlow id="SequenceFlow_1bf54hx" name="aditional reviewing" sourceRef="ExclusiveGateway_1bi5mtk" targetRef="add_additional_reviewing">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${article_decision == "ADD_ADDITIONAL_REVIEWER"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1khco9i" name="Accept/reject?">
      <bpmn:incoming>SequenceFlow_1tos7hi</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0zr3hly</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0xaay9u</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1tos7hi" sourceRef="ServiceTask_08alzd2" targetRef="ExclusiveGateway_1khco9i" />
    <bpmn:sequenceFlow id="SequenceFlow_0zr3hly" name="reject" sourceRef="ExclusiveGateway_1khco9i" targetRef="EndEvent_1553asj">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${article_decision == "REJECTED"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0xaay9u" name="accept" sourceRef="ExclusiveGateway_1khco9i" targetRef="publish_article_to_magazine">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${article_decision == "ACCEPTED"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="EndEvent_0t81jv4">
      <bpmn:incoming>SequenceFlow_0pnfpbc</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0pnfpbc" sourceRef="publish_article_to_magazine" targetRef="EndEvent_0t81jv4" />
    <bpmn:exclusiveGateway id="ExclusiveGateway_0qma93w">
      <bpmn:incoming>SequenceFlow_15xrrhy</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0adlhn2</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0xj6y5c</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0adlhn2" name="minor changes" sourceRef="ExclusiveGateway_0qma93w" targetRef="ExclusiveGateway_0x2piu2">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${article_decision == "DO_MINOR_CHANGES"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0xj6y5c" name="major changes" sourceRef="ExclusiveGateway_0qma93w" targetRef="ExclusiveGateway_08yqp1u">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${article_decision == "DO_MAJOR_CHANGES"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0ky0nf0" sourceRef="ServiceTask_1eedhp0" targetRef="EndEvent_1gx5f7u" />
    <bpmn:sequenceFlow id="SequenceFlow_072f94w" sourceRef="add_additional_reviewing" targetRef="Task_0k4bg49" />
    <bpmn:sequenceFlow id="SequenceFlow_0covefw" sourceRef="Task_0k4bg49" targetRef="additional_reviewing" />
    <bpmn:sequenceFlow id="SequenceFlow_1vsvxf1" sourceRef="additional_reviewing" targetRef="Task_0zwneks" />
    <bpmn:sequenceFlow id="SequenceFlow_06pog5l" sourceRef="Task_0zwneks" targetRef="ExclusiveGateway_1tanl9s" />
    <bpmn:userTask id="additional_reviewing" name="Additional reviewing" camunda:assignee="${newInitiator}">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.project.service.camunda.task.ReviewArticleAdditionalDataInitialization" event="create" />
        <camunda:formData>
          <camunda:formField id="rev_comment_additional" label="Comment:" type="string">
            <camunda:properties>
              <camunda:property id="textarea" value="a" />
            </camunda:properties>
          </camunda:formField>
          <camunda:formField id="rev_comment_editor_additional" label="Comment[Editor]:" type="string">
            <camunda:properties>
              <camunda:property id="textarea" value="a" />
            </camunda:properties>
          </camunda:formField>
          <camunda:formField id="rev_decision_additional" label="Decision:" type="enum">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
            <camunda:value id="ACCEPTED" name="ACCEPTED" />
            <camunda:value id="REJECTED" name="REJECTED" />
            <camunda:value id="DO_MINOR_CHANGES" name="DO_MINOR_CHANGES" />
            <camunda:value id="DO_MAJOR_CHANGES" name="DO_MAJOR_CHANGES" />
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0covefw</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1vsvxf1</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Task_0zwneks" name="Process additional reviewing" camunda:class="com.project.service.camunda.service.ProcessReviewingAdditional">
      <bpmn:incoming>SequenceFlow_1vsvxf1</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_06pog5l</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0lmofnu" sourceRef="ServiceTask_15xe90a" targetRef="Task_068b2x3" />
    <bpmn:sequenceFlow id="SequenceFlow_15xrrhy" sourceRef="Task_068b2x3" targetRef="ExclusiveGateway_0qma93w" />
    <bpmn:serviceTask id="Task_068b2x3" name="Process pdf in process" camunda:class="com.project.service.camunda.service.ProcessMajorMinorChanges">
      <bpmn:incoming>SequenceFlow_0lmofnu</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_15xrrhy</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:subProcess id="SubProcess_0vq1qo1" triggeredByEvent="true">
      <bpmn:startEvent id="StartEvent_1nr4fia">
        <bpmn:outgoing>SequenceFlow_19x7flc</bpmn:outgoing>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_1hxxswh" errorRef="Error_0uio0n0" />
      </bpmn:startEvent>
      <bpmn:endEvent id="EndEvent_1rvspwy">
        <bpmn:incoming>SequenceFlow_1civiyj</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:serviceTask id="ServiceTask_1dmt2kd" name="Error handler" camunda:class="com.project.service.camunda.service.ErrorHandler">
        <bpmn:incoming>SequenceFlow_19x7flc</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_1civiyj</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="SequenceFlow_1civiyj" sourceRef="ServiceTask_1dmt2kd" targetRef="EndEvent_1rvspwy" />
      <bpmn:sequenceFlow id="SequenceFlow_19x7flc" sourceRef="StartEvent_1nr4fia" targetRef="ServiceTask_1dmt2kd" />
    </bpmn:subProcess>
    <bpmn:textAnnotation id="TextAnnotation_1unquxa">
      <bpmn:text>PLAVA BOJA: AUTOR
ZUTA BOJA: GLAVNI UREDNIK
ZELENA: UREDNIK NAUCNE OBLASTI ILI GLAVNI
ROZA: RECEZENT</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_0mtgpfg" sourceRef="select_magazine" targetRef="TextAnnotation_1unquxa" />
    <bpmn:textAnnotation id="TextAnnotation_1j7xfua">
      <bpmn:text>If bpm error occurs or be thrown from tasks</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_0427l8x" sourceRef="SubProcess_0vq1qo1" targetRef="TextAnnotation_1j7xfua" />
  </bpmn:process>
  <bpmn:error id="Error_0p8oo7l" name="Error_3st4ch0" />
  <bpmn:error id="Error_1ri7ri8" name="Error_03sco75" />
  <bpmn:error id="Error_0ah03wd" name="Error_2pplbpb" errorCode="PAYMENT_FAILED" />
  <bpmn:error id="Error_0uio0n0" name="UnexpectedError" errorCode="UnexpectedError" camunda:errorMessage="UnexpectedError" />
  <bpmn:error id="Error_06g5eqn" name="PAYMENT_ERROR" errorCode="PAYMENT_ERROR" camunda:errorMessage="PAYMENT_ERROR" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="new_article">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="152" y="512" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1v19ux4_di" bpmnElement="SequenceFlow_1v19ux4">
        <di:waypoint x="188" y="530" />
        <di:waypoint x="230" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0arwsev_di" bpmnElement="select_magazine" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="230" y="500" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1xnyn25_di" bpmnElement="magazine_payment_type">
        <dc:Bounds x="390" y="500" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1o1ymeq_di" bpmnElement="should_user_pay">
        <dc:Bounds x="620" y="410" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1m37wwj_di" bpmnElement="enter_article_data" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="970" y="500" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_112ksq4_di" bpmnElement="process_article_data">
        <dc:Bounds x="1250" y="500" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0bs4av2_di" bpmnElement="ExclusiveGateway_0bs4av2" isMarkerVisible="true">
        <dc:Bounds x="565" y="515" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="565" y="575" width="49" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1fztipp_di" bpmnElement="ExclusiveGateway_1fztipp" isMarkerVisible="true">
        <dc:Bounds x="845" y="515" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1h0lnvx_di" bpmnElement="EndEvent_1h0lnvx">
        <dc:Bounds x="3132" y="442" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1s7w1jm_di" bpmnElement="SequenceFlow_1s7w1jm">
        <di:waypoint x="1890" y="400" />
        <di:waypoint x="1920" y="400" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0r68tqj_di" bpmnElement="analize_article" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="1790" y="360" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1kuyow2_di" bpmnElement="SequenceFlow_1kuyow2">
        <di:waypoint x="590" y="515" />
        <di:waypoint x="590" y="450" />
        <di:waypoint x="620" y="450" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="597" y="480" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0ezed9o_di" bpmnElement="ExclusiveGateway_0ezed9o" isMarkerVisible="true">
        <dc:Bounds x="765" y="425" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="779" y="485" width="24" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1xwrmd3_di" bpmnElement="ExclusiveGateway_1xwrmd3" isMarkerVisible="true">
        <dc:Bounds x="895" y="425" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1ijcn9n_di" bpmnElement="SequenceFlow_1ijcn9n">
        <di:waypoint x="615" y="540" />
        <di:waypoint x="845" y="540" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="725" y="522" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0pbmvzx_di" bpmnElement="SequenceFlow_0pbmvzx">
        <di:waypoint x="720" y="450" />
        <di:waypoint x="765" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1ddm04v_di" bpmnElement="SequenceFlow_1ddm04v">
        <di:waypoint x="815" y="450" />
        <di:waypoint x="895" y="450" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="849" y="432" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_089qi7s_di" bpmnElement="SequenceFlow_089qi7s">
        <di:waypoint x="920" y="475" />
        <di:waypoint x="920" y="495" />
        <di:waypoint x="870" y="495" />
        <di:waypoint x="870" y="515" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0oe1juk_di" bpmnElement="SequenceFlow_0oe1juk">
        <di:waypoint x="490" y="540" />
        <di:waypoint x="565" y="540" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0cu8bsy_di" bpmnElement="SequenceFlow_0cu8bsy">
        <di:waypoint x="895" y="540" />
        <di:waypoint x="970" y="540" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0lpe940_di" bpmnElement="SequenceFlow_0lpe940">
        <di:waypoint x="1770" y="400" />
        <di:waypoint x="1790" y="400" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SendTask_0wdwc73_di" bpmnElement="send_mail_to_author_editor">
        <dc:Bounds x="1670" y="360" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_028fj5y_di" bpmnElement="ExclusiveGateway_028fj5y" isMarkerVisible="true">
        <dc:Bounds x="2055" y="405" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2058" y="381" width="46" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1rtrmep_di" bpmnElement="SequenceFlow_1rtrmep">
        <di:waypoint x="2105" y="430" />
        <di:waypoint x="2140" y="430" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2102" y="433" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0q66zje_di" bpmnElement="EndEvent_0q66zje">
        <dc:Bounds x="1632" y="542" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1gps3t1_di" bpmnElement="SequenceFlow_1gps3t1">
        <di:waypoint x="2020" y="400" />
        <di:waypoint x="2038" y="400" />
        <di:waypoint x="2038" y="430" />
        <di:waypoint x="2055" y="430" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0os20bm_di" bpmnElement="process_editor_analize">
        <dc:Bounds x="1920" y="360" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0ufme84_di" bpmnElement="find_chief_editor" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="1370" y="500" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1qrwnma_di" bpmnElement="SequenceFlow_1qrwnma">
        <di:waypoint x="2240" y="430" />
        <di:waypoint x="2270" y="430" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0ty0114_di" bpmnElement="Analize_article_text" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="2140" y="390" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1ot4ue9_di" bpmnElement="ExclusiveGateway_1ot4ue9" isMarkerVisible="true">
        <dc:Bounds x="2395" y="405" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2400" y="381" width="40" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0f9jpmp_di" bpmnElement="SequenceFlow_0f9jpmp">
        <di:waypoint x="2370" y="430" />
        <di:waypoint x="2395" y="430" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_12uzz4i_di" bpmnElement="process_article_text">
        <dc:Bounds x="2270" y="390" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0863viv_di" bpmnElement="SequenceFlow_0863viv">
        <di:waypoint x="2420" y="455" />
        <di:waypoint x="2420" y="610" />
        <di:waypoint x="280" y="640" />
        <di:waypoint x="280" y="720" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2427" y="534" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1bqi0sv_di" bpmnElement="SequenceFlow_1bqi0sv">
        <di:waypoint x="2660" y="440" />
        <di:waypoint x="2660" y="410" />
        <di:waypoint x="2620" y="410" />
        <di:waypoint x="2620" y="380" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SendTask_0sk8i4g_di" bpmnElement="Task_0czyytw">
        <dc:Bounds x="2610" y="440" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0ubwcnm_di" bpmnElement="update_article_text" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="2570" y="300" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_08abm9c_di" bpmnElement="ExclusiveGateway_08abm9c" isMarkerVisible="true">
        <dc:Bounds x="1455" y="425" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0n7nf39_di" bpmnElement="SequenceFlow_0n7nf39">
        <di:waypoint x="2570" y="340" />
        <di:waypoint x="2540" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BoundaryEvent_0jmdgn3_di" bpmnElement="IntermediateThrowEvent_041zcyr">
        <dc:Bounds x="2632" y="362" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2611" y="408" width="78" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1vwyad0_di" bpmnElement="SequenceFlow_1vwyad0">
        <di:waypoint x="2990" y="460" />
        <di:waypoint x="3010" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SendTask_1mvc0ac_di" bpmnElement="Task_14tsaxy">
        <dc:Bounds x="2890" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0kld76n_di" bpmnElement="retrive_editor_area">
        <dc:Bounds x="230" y="720" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0ffac70_di" bpmnElement="add_reviewer" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <dc:Bounds x="640" y="720" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0mnfnla_di" bpmnElement="SequenceFlow_0mnfnla">
        <di:waypoint x="870" y="760" />
        <di:waypoint x="935" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_08rsluo_di" bpmnElement="SequenceFlow_08rsluo">
        <di:waypoint x="490" y="760" />
        <di:waypoint x="515" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0ngjszi_di" bpmnElement="init_reviewer_id">
        <dc:Bounds x="390" y="720" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1bfe9h3_di" bpmnElement="SequenceFlow_1bfe9h3">
        <di:waypoint x="740" y="760" />
        <di:waypoint x="770" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_04vg7f7_di" bpmnElement="add_rev_when_error" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <dc:Bounds x="1730" y="900" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1731ths_di" bpmnElement="ExclusiveGateway_1731ths" isMarkerVisible="true">
        <dc:Bounds x="1503" y="675" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0erdesw_di" bpmnElement="process_reviewing">
        <dc:Bounds x="1810" y="660" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SubProcess_1u6nw1v_di" bpmnElement="review_article_mf" isExpanded="true">
        <dc:Bounds x="1290" y="640" width="786" height="360" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_02pqxlm_di" bpmnElement="StartEvent_02pqxlm">
        <dc:Bounds x="1310" y="682" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0jkxzcj_di" bpmnElement="review_article" bioc:stroke="rgb(142, 36, 170)" bioc:fill="rgb(225, 190, 231)">
        <dc:Bounds x="1588" y="660" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_0a5guwo_di" bpmnElement="BoundaryEvent_0a5guwo">
        <dc:Bounds x="1670" y="722" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1596" y="750" width="86" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_08jr8kw_di" bpmnElement="SequenceFlow_08jr8kw">
        <di:waypoint x="1346" y="700" />
        <di:waypoint x="1503" y="700" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1sh7o35_di" bpmnElement="SequenceFlow_1sh7o35">
        <di:waypoint x="1688" y="700" />
        <di:waypoint x="1810" y="700" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_03f72ss_di" bpmnElement="SequenceFlow_03f72ss">
        <di:waypoint x="1910" y="700" />
        <di:waypoint x="2020" y="700" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0sq98ps_di" bpmnElement="SequenceFlow_0sq98ps">
        <di:waypoint x="1553" y="700" />
        <di:waypoint x="1588" y="700" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0ek8scr_di" bpmnElement="EndEvent_0ek8scr">
        <dc:Bounds x="2020" y="682" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_13ywox3_di" bpmnElement="process_aditional_reviewing">
        <dc:Bounds x="1478" y="870" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1bi5mtk_di" bpmnElement="ExclusiveGateway_1bi5mtk" isMarkerVisible="true">
        <dc:Bounds x="2505" y="760" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2533" y="817" width="34" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0eq7h6p_di" bpmnElement="editor_review" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <dc:Bounds x="2190" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_12gktse_di" bpmnElement="proccess_editor_reviewing">
        <dc:Bounds x="2330" y="640" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1553asj_di" bpmnElement="EndEvent_1553asj">
        <dc:Bounds x="3132" y="592" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1qmcl57_di" bpmnElement="publish_article_to_magazine">
        <dc:Bounds x="3010" y="670" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SendTask_1xrxjkb_di" bpmnElement="Task_1tt0eou">
        <dc:Bounds x="2730" y="570" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0i8083t_di" bpmnElement="SequenceFlow_0i8083t">
        <di:waypoint x="2290" y="680" />
        <di:waypoint x="2330" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_15xe90a_di" bpmnElement="ServiceTask_15xe90a">
        <dc:Bounds x="2850" y="880" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0mhj2tu_di" bpmnElement="upload_pdf_minor_major_changes" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="2700" y="840" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1gx5f7u_di" bpmnElement="EndEvent_1gx5f7u">
        <dc:Bounds x="2992" y="767" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_1lgoyhu_di" bpmnElement="BoundaryEvent_1lgoyhu">
        <dc:Bounds x="2752" y="822" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2762" y="803" width="55" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0xo614d_di" bpmnElement="SequenceFlow_0xo614d">
        <di:waypoint x="2770" y="822" />
        <di:waypoint x="2770" y="770" />
        <di:waypoint x="2840" y="770" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_08yqp1u_di" bpmnElement="ExclusiveGateway_08yqp1u" isMarkerVisible="true">
        <dc:Bounds x="1035" y="735" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1nbbmej_di" bpmnElement="SequenceFlow_1nbbmej">
        <di:waypoint x="1085" y="760" />
        <di:waypoint x="1130" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0x2piu2_di" bpmnElement="ExclusiveGateway_0x2piu2" isMarkerVisible="true">
        <dc:Bounds x="2105" y="875" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1keagd5_di" bpmnElement="SequenceFlow_1keagd5">
        <di:waypoint x="2076" y="963" />
        <di:waypoint x="2091" y="963" />
        <di:waypoint x="2091" y="900" />
        <di:waypoint x="2105" y="900" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1unquxa_di" bpmnElement="TextAnnotation_1unquxa">
        <dc:Bounds x="220" y="230" width="220" height="170" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0mtgpfg_di" bpmnElement="Association_0mtgpfg">
        <di:waypoint x="289" y="500" />
        <di:waypoint x="310" y="400" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SubProcess_0ste521_di" bpmnElement="Task_18ru3xa" isExpanded="true">
        <dc:Bounds x="400" y="80" width="730" height="270" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_0tp2fgi_di" bpmnElement="StartEvent_0tp2fgi">
        <dc:Bounds x="502" y="232" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0tresf6_di" bpmnElement="SequenceFlow_0tresf6">
        <di:waypoint x="330" y="540" />
        <di:waypoint x="390" y="540" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0ru6yw0_di" bpmnElement="SequenceFlow_0ru6yw0">
        <di:waypoint x="1650" y="400" />
        <di:waypoint x="1670" y="400" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0st63uw_di" bpmnElement="message_to_send">
        <dc:Bounds x="1550" y="360" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SendTask_1kvakqx_di" bpmnElement="prepare_refusing_explanation">
        <dc:Bounds x="1713" y="500" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1q15mun_di" bpmnElement="process_update_article">
        <dc:Bounds x="2440" y="300" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1fwe2jl_di" bpmnElement="SequenceFlow_1fwe2jl">
        <di:waypoint x="3110" y="460" />
        <di:waypoint x="3132" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0orqfqg_di" bpmnElement="Task_06ftulh">
        <dc:Bounds x="3010" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_04alscp_di" bpmnElement="ServiceTask_04alscp">
        <dc:Bounds x="2030" y="510" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1eedhp0_di" bpmnElement="ServiceTask_1eedhp0">
        <dc:Bounds x="2840" y="730" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0uf38e4_di" bpmnElement="SequenceFlow_0uf38e4">
        <di:waypoint x="538" y="250" />
        <di:waypoint x="590" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_106gk58_di" bpmnElement="EndEvent_106gk58">
        <dc:Bounds x="1072" y="232" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1ox17l4_di" bpmnElement="Task_10pxn5a">
        <dc:Bounds x="590" y="210" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0dlzo4i_di" bpmnElement="SequenceFlow_0dlzo4i">
        <di:waypoint x="790" y="425" />
        <di:waypoint x="790" y="388" />
        <di:waypoint x="765" y="388" />
        <di:waypoint x="765" y="350" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="749" y="370" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0cujuul_di" bpmnElement="SequenceFlow_0cujuul">
        <di:waypoint x="920" y="350" />
        <di:waypoint x="920" y="425" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1f42mox_di" bpmnElement="SequenceFlow_1f42mox">
        <di:waypoint x="1010" y="368" />
        <di:waypoint x="1010" y="420" />
        <di:waypoint x="1050" y="420" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0kv7s6h_di" bpmnElement="EndEvent_0kv7s6h">
        <dc:Bounds x="1282" y="382" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0z1iu5u_di" bpmnElement="SequenceFlow_0z1iu5u">
        <di:waypoint x="1150" y="420" />
        <di:waypoint x="1171" y="420" />
        <di:waypoint x="1171" y="400" />
        <di:waypoint x="1282" y="400" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BoundaryEvent_0b60ct2_di" bpmnElement="IntermediateThrowEvent_1gmftfv">
        <dc:Bounds x="992" y="332" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="975" y="375" width="73" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1biw8kd_di" bpmnElement="Task_0ijyvsd">
        <dc:Bounds x="1050" y="380" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0s57mz9_di" bpmnElement="ExclusiveGateway_0s57mz9" isMarkerVisible="true">
        <dc:Bounds x="515" y="735" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="505" y="711" width="70" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_13a71ug_di" bpmnElement="SequenceFlow_13a71ug">
        <di:waypoint x="565" y="760" />
        <di:waypoint x="640" y="760" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="574" y="742" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1pcsav2_di" bpmnElement="SequenceFlow_1pcsav2">
        <di:waypoint x="1230" y="770" />
        <di:waypoint x="1260" y="770" />
        <di:waypoint x="1260" y="820" />
        <di:waypoint x="1290" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0jeayw9_di" bpmnElement="define_time_to_respond">
        <dc:Bounds x="1130" y="730" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_09cg3pb_di" bpmnElement="ExclusiveGateway_09cg3pb" isMarkerVisible="true">
        <dc:Bounds x="935" y="735" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1s3qtk1_di" bpmnElement="SequenceFlow_1s3qtk1">
        <di:waypoint x="985" y="760" />
        <di:waypoint x="1035" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_17svrf8_di" bpmnElement="SequenceFlow_17svrf8">
        <di:waypoint x="540" y="785" />
        <di:waypoint x="540" y="860" />
        <di:waypoint x="640" y="860" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="549" y="820" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_00wv2zf_di" bpmnElement="SequenceFlow_00wv2zf">
        <di:waypoint x="740" y="860" />
        <di:waypoint x="960" y="860" />
        <di:waypoint x="960" y="785" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1tvj0i8_di" bpmnElement="SequenceFlow_1tvj0i8">
        <di:waypoint x="1070" y="540" />
        <di:waypoint x="1250" y="540" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0o5cz67_di" bpmnElement="SequenceFlow_0o5cz67">
        <di:waypoint x="1350" y="540" />
        <di:waypoint x="1370" y="540" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0ima3nv_di" bpmnElement="SequenceFlow_0ima3nv">
        <di:waypoint x="2440" y="340" />
        <di:waypoint x="1480" y="340" />
        <di:waypoint x="1480" y="425" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_16ffw7c_di" bpmnElement="SequenceFlow_16ffw7c">
        <di:waypoint x="1420" y="500" />
        <di:waypoint x="1420" y="488" />
        <di:waypoint x="1480" y="488" />
        <di:waypoint x="1480" y="475" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0046knf_di" bpmnElement="SequenceFlow_0046knf">
        <di:waypoint x="1505" y="450" />
        <di:waypoint x="1528" y="450" />
        <di:waypoint x="1528" y="400" />
        <di:waypoint x="1550" y="400" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_11narag_di" bpmnElement="SequenceFlow_11narag">
        <di:waypoint x="2080" y="455" />
        <di:waypoint x="2080" y="510" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2088" y="480" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1nmj8dc_di" bpmnElement="SequenceFlow_1nmj8dc">
        <di:waypoint x="2030" y="550" />
        <di:waypoint x="1995" y="550" />
        <di:waypoint x="1995" y="540" />
        <di:waypoint x="1960" y="540" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0qzzgb0_di" bpmnElement="SequenceFlow_0qzzgb0">
        <di:waypoint x="1860" y="540" />
        <di:waypoint x="1813" y="540" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_09bbn2p_di" bpmnElement="SequenceFlow_09bbn2p">
        <di:waypoint x="1713" y="540" />
        <di:waypoint x="1691" y="540" />
        <di:waypoint x="1691" y="560" />
        <di:waypoint x="1668" y="560" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1mrv8rt_di" bpmnElement="reject_mail_topic_incompliance">
        <dc:Bounds x="1860" y="500" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_11olh5o_di" bpmnElement="SequenceFlow_11olh5o">
        <di:waypoint x="2445" y="430" />
        <di:waypoint x="2470" y="430" />
        <di:waypoint x="2470" y="450" />
        <di:waypoint x="2490" y="450" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2478" y="423" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1enesxf_di" bpmnElement="SequenceFlow_1enesxf">
        <di:waypoint x="2590" y="480" />
        <di:waypoint x="2610" y="480" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1xalxqi_di" bpmnElement="reject_mail_text_incompliance">
        <dc:Bounds x="2490" y="440" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0fxfzh6_di" bpmnElement="SequenceFlow_0fxfzh6">
        <di:waypoint x="2668" y="380" />
        <di:waypoint x="2820" y="380" />
        <di:waypoint x="2820" y="420" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0uvvcau_di" bpmnElement="prepare_technical_reason">
        <dc:Bounds x="2770" y="420" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_10winsy_di" bpmnElement="SequenceFlow_10winsy">
        <di:waypoint x="2870" y="460" />
        <di:waypoint x="2890" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1knt6m1_di" bpmnElement="prepare_mail_accept">
        <dc:Bounds x="2610" y="570" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0kpq821_di" bpmnElement="SequenceFlow_0kpq821">
        <di:waypoint x="2530" y="760" />
        <di:waypoint x="2530" y="610" />
        <di:waypoint x="2610" y="610" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2532" y="633" width="77" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0yvg2gp_di" bpmnElement="SequenceFlow_0yvg2gp">
        <di:waypoint x="2710" y="610" />
        <di:waypoint x="2730" y="610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_15faqud_di" bpmnElement="SequenceFlow_15faqud">
        <di:waypoint x="330" y="760" />
        <di:waypoint x="390" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0oxzbn2_di" bpmnElement="ScriptTask_19savi5" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="640" y="820" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_08alzd2_di" bpmnElement="ServiceTask_08alzd2">
        <dc:Bounds x="2860" y="570" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_02y6vn3_di" bpmnElement="SequenceFlow_02y6vn3">
        <di:waypoint x="2830" y="610" />
        <di:waypoint x="2860" y="610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1d3qlff_di" bpmnElement="ServiceTask_1d3qlff">
        <dc:Bounds x="2610" y="760" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_01ox3er_di" bpmnElement="SequenceFlow_01ox3er">
        <di:waypoint x="2555" y="785" />
        <di:waypoint x="2578" y="785" />
        <di:waypoint x="2578" y="800" />
        <di:waypoint x="2610" y="800" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2548" y="753" width="60" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1jvozf8_di" bpmnElement="SequenceFlow_1jvozf8">
        <di:waypoint x="2660" y="840" />
        <di:waypoint x="2660" y="900" />
        <di:waypoint x="2700" y="900" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_17w5lyq_di" bpmnElement="SequenceFlow_17w5lyq">
        <di:waypoint x="2800" y="880" />
        <di:waypoint x="2825" y="880" />
        <di:waypoint x="2825" y="920" />
        <di:waypoint x="2850" y="920" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_01ya1it_di" bpmnElement="add_reviewer_to_list" bioc:stroke="rgb(142, 36, 170)" bioc:fill="rgb(225, 190, 231)">
        <dc:Bounds x="770" y="720" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1tanl9s_di" bpmnElement="ExclusiveGateway_1tanl9s" isMarkerVisible="true">
        <dc:Bounds x="2105" y="725" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0f3e1kj_di" bpmnElement="SequenceFlow_0f3e1kj">
        <di:waypoint x="2130" y="875" />
        <di:waypoint x="2130" y="775" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0qhz88s_di" bpmnElement="SequenceFlow_0qhz88s">
        <di:waypoint x="2130" y="725" />
        <di:waypoint x="2130" y="680" />
        <di:waypoint x="2190" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_01j489i_di" bpmnElement="add_additional_reviewing" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <dc:Bounds x="2410" y="890" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_10qni7m_di" bpmnElement="Task_0k4bg49">
        <dc:Bounds x="2290" y="890" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1sor99u_di" bpmnElement="SequenceFlow_1sor99u">
        <di:waypoint x="1528" y="870" />
        <di:waypoint x="1528" y="725" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1vzxv11_di" bpmnElement="SequenceFlow_1vzxv11">
        <di:waypoint x="1730" y="940" />
        <di:waypoint x="1700" y="940" />
        <di:waypoint x="1700" y="910" />
        <di:waypoint x="1578" y="910" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0x2rup8_di" bpmnElement="SequenceFlow_0x2rup8">
        <di:waypoint x="1688" y="758" />
        <di:waypoint x="1688" y="820" />
        <di:waypoint x="1760" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1n7wf0d_di" bpmnElement="SequenceFlow_1n7wf0d">
        <di:waypoint x="1810" y="860" />
        <di:waypoint x="1810" y="880" />
        <di:waypoint x="1780" y="880" />
        <di:waypoint x="1780" y="900" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0xrviti_di" bpmnElement="Task_051emqd">
        <dc:Bounds x="1760" y="780" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_163f9xj_di" bpmnElement="SequenceFlow_163f9xj">
        <di:waypoint x="2380" y="720" />
        <di:waypoint x="2380" y="785" />
        <di:waypoint x="2505" y="785" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1bf54hx_di" bpmnElement="SequenceFlow_1bf54hx">
        <di:waypoint x="2530" y="810" />
        <di:waypoint x="2530" y="930" />
        <di:waypoint x="2510" y="930" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2547" y="903" width="47" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_1khco9i_di" bpmnElement="ExclusiveGateway_1khco9i" isMarkerVisible="true">
        <dc:Bounds x="3025" y="585" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3017" y="555" width="69" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1tos7hi_di" bpmnElement="SequenceFlow_1tos7hi">
        <di:waypoint x="2960" y="610" />
        <di:waypoint x="3025" y="610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0zr3hly_di" bpmnElement="SequenceFlow_0zr3hly">
        <di:waypoint x="3075" y="610" />
        <di:waypoint x="3132" y="610" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3090" y="592" width="28" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0xaay9u_di" bpmnElement="SequenceFlow_0xaay9u">
        <di:waypoint x="3050" y="635" />
        <di:waypoint x="3050" y="653" />
        <di:waypoint x="3060" y="653" />
        <di:waypoint x="3060" y="670" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3038" y="635" width="34" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0t81jv4_di" bpmnElement="EndEvent_0t81jv4">
        <dc:Bounds x="3162" y="692" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0pnfpbc_di" bpmnElement="SequenceFlow_0pnfpbc">
        <di:waypoint x="3110" y="710" />
        <di:waypoint x="3162" y="710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0qma93w_di" bpmnElement="ExclusiveGateway_0qma93w" isMarkerVisible="true">
        <dc:Bounds x="2745" y="1005" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0adlhn2_di" bpmnElement="SequenceFlow_0adlhn2">
        <di:waypoint x="2745" y="1030" />
        <di:waypoint x="2130" y="1030" />
        <di:waypoint x="2130" y="925" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2401" y="1012" width="73" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0xj6y5c_di" bpmnElement="SequenceFlow_0xj6y5c">
        <di:waypoint x="2770" y="1060" />
        <di:waypoint x="2770" y="1090" />
        <di:waypoint x="1060" y="1070" />
        <di:waypoint x="1060" y="785" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1879" y="1062" width="73" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0ky0nf0_di" bpmnElement="SequenceFlow_0ky0nf0">
        <di:waypoint x="2940" y="770" />
        <di:waypoint x="2966" y="770" />
        <di:waypoint x="2966" y="785" />
        <di:waypoint x="2992" y="785" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_072f94w_di" bpmnElement="SequenceFlow_072f94w">
        <di:waypoint x="2410" y="930" />
        <di:waypoint x="2390" y="930" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0covefw_di" bpmnElement="SequenceFlow_0covefw">
        <di:waypoint x="2290" y="930" />
        <di:waypoint x="2270" y="930" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1vsvxf1_di" bpmnElement="SequenceFlow_1vsvxf1">
        <di:waypoint x="2220" y="890" />
        <di:waypoint x="2220" y="860" />
        <di:waypoint x="2260" y="860" />
        <di:waypoint x="2260" y="825" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_06pog5l_di" bpmnElement="SequenceFlow_06pog5l">
        <di:waypoint x="2220" y="785" />
        <di:waypoint x="2190" y="785" />
        <di:waypoint x="2190" y="750" />
        <di:waypoint x="2155" y="750" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_15deptb_di" bpmnElement="additional_reviewing" bioc:stroke="rgb(142, 36, 170)" bioc:fill="rgb(225, 190, 231)">
        <dc:Bounds x="2170" y="890" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0xcaazz_di" bpmnElement="Task_0zwneks">
        <dc:Bounds x="2220" y="745" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0lmofnu_di" bpmnElement="SequenceFlow_0lmofnu">
        <di:waypoint x="2900" y="960" />
        <di:waypoint x="2900" y="990" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_15xrrhy_di" bpmnElement="SequenceFlow_15xrrhy">
        <di:waypoint x="2850" y="1030" />
        <di:waypoint x="2795" y="1030" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1wowwv0_di" bpmnElement="Task_068b2x3">
        <dc:Bounds x="2850" y="990" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SubProcess_0vq1qo1_di" bpmnElement="SubProcess_0vq1qo1" isExpanded="true">
        <dc:Bounds x="220" y="1010" width="350" height="200" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1j7xfua_di" bpmnElement="TextAnnotation_1j7xfua">
        <dc:Bounds x="570" y="930" width="100" height="68" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0427l8x_di" bpmnElement="Association_0427l8x">
        <di:waypoint x="549" y="1010" />
        <di:waypoint x="570" y="996" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="StartEvent_1nr4fia_di" bpmnElement="StartEvent_1nr4fia">
        <dc:Bounds x="242" y="1082" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1rvspwy_di" bpmnElement="EndEvent_1rvspwy">
        <dc:Bounds x="482" y="1082" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1dmt2kd_di" bpmnElement="ServiceTask_1dmt2kd">
        <dc:Bounds x="340" y="1060" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1civiyj_di" bpmnElement="SequenceFlow_1civiyj">
        <di:waypoint x="440" y="1100" />
        <di:waypoint x="482" y="1100" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_19x7flc_di" bpmnElement="SequenceFlow_19x7flc">
        <di:waypoint x="278" y="1100" />
        <di:waypoint x="340" y="1100" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_02ncok0_di" bpmnElement="SequenceFlow_02ncok0">
        <di:waypoint x="690" y="250" />
        <di:waypoint x="750" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_194nj9g_di" bpmnElement="payment_kp_call">
        <dc:Bounds x="750" y="210" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1mnzu18_di" bpmnElement="SequenceFlow_1mnzu18">
        <di:waypoint x="850" y="250" />
        <di:waypoint x="910" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0a8mrg2_di" bpmnElement="SequenceFlow_0a8mrg2">
        <di:waypoint x="1010" y="250" />
        <di:waypoint x="1072" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_08vvm90_di" bpmnElement="Task_0tb8wsg">
        <dc:Bounds x="910" y="210" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
